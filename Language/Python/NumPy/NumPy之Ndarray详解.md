# NumPy之Ndarray详解

## Ndarray与向量和矩阵
我们都知道，向量是数据分析，以及机器学习算法中非常基础而核心的概念，没有对向量及其运算的支持，一切都无从谈起。然而Python语言中并没有向量与矩阵的概念。Python的列表看似向量，但并不支持向量的运算，与向量相差甚远。Python对向量的处理，都源自于Numpy框架的支持，而向量与矩阵都源自于Ndarray对象。

## Ndarray对象详解
Ndarray:N-dimesinal array(N维数组对象)，是一系列同类型数据的集合，以0下标为开始进行集合中元素的索引。Ndarray内部由以下内容组成：

![](img/ndarray.png)

* 一个指向数据（内存或内存映射文件中的一块数据）的指针。
* 数据类型或dtype，描述在数组中的固定大小值的格子。
* 一个表示数组形状（shape）的元组，表示各维度大小的元组。
* 一个跨度元组（stride），其中的整数指的是为了前进道当前维度下一个元素需要“跨国”的字节数。

## Ndarray与list的不同

## 使用Ndarray处理向量与矩阵问题
### 创建向量与矩阵
```
import numpy as np
numpy.zeros(shape, dtype = float, order = 'C')
# shape:矩阵形状（行，列），行=1表示向量
```
### 向量运算
1. 数组与标量运算
```
a=[2,2,2]
a/2     //[1.,1.,1.]
a*2     //[4 4 4]
a+2     //[4 4 4]
a-2     //[0 0 0]
```
可以看出，向量与标量运算，相当于向量中的每个元素进行运算。

2. 数组与数组加减乘除
```
a=[1,2,3]
b=[2,2,2]
np.add(a,b)   //[3 4 5] 等价于a+b
np.subtract(a,b)   //[-1  0  1]  等价于a-b
np.multiply(a,b)  //[2 4 6]    等价于a*b
np.divide(a,b)    // [0.5 1.  1.5]  等价于a/b
a.dot(b)    //12   计算方法：1*2+2*2+3*2
```
可以看出，Ndarray的加减乘除就是数组中每个对应位置元素的加减乘除。
由此我们也知道，向量中元素的个数必须相等，才能执行加减乘除运算。

## 矩阵运算
1. 矩阵与标量运算
同上，矩阵的每个元素与标量进行运算
2. 矩阵与向量运算
根据线性代数知道，两个矩阵相乘，要满足(m,n)x（n,k）=(m,k),因此向量(1,m)，只能与（m,n）的矩阵相乘。
```
a=array([[1,2,3],[1,2,3]])
b=array([1,2])
c=matmul(b,a)   //预算结果 [3 6 9]
```
