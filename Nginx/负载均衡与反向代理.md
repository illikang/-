# 负载均衡与反向代理

## 正向代理

假如客户端想要访问Google服务器，但是由于网络的原因无法访问。因此客户端需要借助一个代理服务器来访问Google服务器，客户端可以访问到代理服务器，而代理服务器可以访问到Google服务器。这个时候，代理服务器按客户端的请求去访问Google服务器.

![forward](img/forward.jpg)

对于Google服务器来说，代理服务器实际上就代表的客户端,它并不知道请求访问的是用户还是代理服务器。同时，客户端必须要进行一些特别的设置才能访问到Goolge服务器。这就是正向代理模式。

## 反向代理

单个服务器处理客户端请求能力有限，当用户蜂拥而入时，会造成服务器忙不过来的局面。这是就需要添加更多的服务器来共同分担成千上万的用户请求，它们提供相同的服务，对于用户而言，根本感觉不到任何差别。

这其实就是反向代理的模式。服务器向客户端隐藏了自身的细节，虽然实际的服务器可能又多台组成，但它通过代理服务器给用户提供了统一的服务，客户端无需知道这些细节就能完成对服务器的访问。也就是说，代理服务器从正向代理中的代理客户请求服务器转而成为代理服务器来接受客户端的请求。在反向代理中，客户端不需要进行任何特别的设定。

![backward](img/backward.jpg)

简单来说，就是：
  * 正向代理：代理的是客户端
  * 反向代理：代理的是服务器

## 反向代理服务器Nginx

Nginx是一个轻量级、高性能的web服务器/反向代理服务器。

通过反向代理，可以将请求/数据，均匀分摊到多个操作单元上执行，从而实现负载均衡：
![](img/balance.jpg)
